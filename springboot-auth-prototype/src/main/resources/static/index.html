<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ê°€ìŠ¤ ê²½ì˜ 2026 api í…ŒìŠ¤íŠ¸</title>
    <style>
        * { box-sizing: border-box; margin: 0; padding: 0; }
        body { font-family: 'Segoe UI', sans-serif; background: #f0f2f5; padding: 24px; }
        h1 { color: #1a1a2e; margin-bottom: 24px; font-size: 22px; }
        .container { display: flex; gap: 24px; flex-wrap: wrap; }
        .card {
            background: #fff;
            border-radius: 12px;
            padding: 24px;
            width: 420px;
            box-shadow: 0 2px 12px rgba(0,0,0,0.08);
        }
        .card h2 { font-size: 16px; color: #333; margin-bottom: 16px; padding-bottom: 10px; border-bottom: 2px solid #4CAF50; }
        label { display: block; font-size: 13px; color: #555; margin-bottom: 4px; margin-top: 12px; }
        input {
            width: 100%; padding: 9px 12px; border: 1px solid #ddd;
            border-radius: 6px; font-size: 14px; outline: none;
            transition: border-color 0.2s;
        }
        input:focus { border-color: #4CAF50; }
        button {
            margin-top: 18px; width: 100%; padding: 11px;
            background: #4CAF50; color: white; border: none;
            border-radius: 6px; font-size: 15px; cursor: pointer;
            transition: background 0.2s;
        }
        button:hover { background: #388E3C; }
        .result {
            margin-top: 16px; padding: 12px; border-radius: 6px;
            background: #f8f8f8; border: 1px solid #e0e0e0;
            font-size: 13px; white-space: pre-wrap; word-break: break-all;
            max-height: 200px; overflow-y: auto; display: none;
        }
        .result.success { border-color: #4CAF50; background: #f1f8f1; }
        .result.error   { border-color: #e53935; background: #fff5f5; }
        .badge {
            display: inline-block; font-size: 11px; padding: 2px 8px;
            border-radius: 10px; color: white; background: #4CAF50;
            margin-bottom: 4px; vertical-align: middle;
        }
        .badge.post { background: #1976D2; }
        .desc {
            font-size: 12px; color: #666; background: #f5f5f5;
            border-left: 3px solid #4CAF50; padding: 7px 10px;
            border-radius: 0 4px 4px 0; margin-bottom: 4px; line-height: 1.6;
        }
    </style>
</head>
<body>
    <h1>ğŸ” ê°€ìŠ¤ ê²½ì˜ 2026 api í…ŒìŠ¤íŠ¸</h1>
    <div class="container">

        <!-- ë¡œê·¸ì¸ -->
        <div class="card">
            <h2><span class="badge post">POST</span> /api/auth/login</h2>
            <p class="desc">ì•„ì´ë””Â·ë¹„ë°€ë²ˆí˜¸ë¡œ ë¡œê·¸ì¸. ì„±ê³µ ì‹œ <b>sessionToken</b> ë°œê¸‰ (Redis 1ì‹œê°„ ìœ ì§€).<br>UUIDë¥¼ í•¨ê»˜ ë³´ë‚´ë©´ ê¸°ê¸° ê³ ì • ë¡œê·¸ì¸. ë‹¤ì¤‘ íšŒì‚¬ ê³„ì • ì§€ì›.</p>

            <label>ì•„ì´ë”” (userId)</label>
            <input id="login-userId" type="text" placeholder="user01" />

            <label>ë¹„ë°€ë²ˆí˜¸ (password)</label>
            <input id="login-password" type="password" placeholder="pass1234" />

            <label>ê¸°ê¸° UUID (ì„ íƒ)</label>
            <input id="login-uuid" type="text" placeholder="DEVICE-UUID-OPTIONAL" value="8c4ae8432adc86bb" />

            <button onclick="doLogin()">ë¡œê·¸ì¸</button>
            <div id="login-result" class="result"></div>
        </div>

        <!-- ì˜ì—…ì†Œ ì½”ë“œ ëª©ë¡ -->
        <div class="card">
            <h2><span class="badge" style="background:#6D4C41">GET</span> /api/auth/area-codes</h2>
            <p class="desc">ë¡œê·¸ì¸í•œ íšŒì‚¬ DB(SVR_DBName)ì˜ <b>ì˜ì—…ì†Œ(ì‚¬ì—…ì†Œ) ì½”ë“œ ì „ì²´ ëª©ë¡</b> ì¡°íšŒ.<br>ê°€ì…ì‹ ì²­ í™”ë©´ì—ì„œ ì‚¬ì—…ì†Œ ì„ íƒ ë“œë¡­ë‹¤ìš´ì— ì‚¬ìš©. <code>JNOTRY</code> í…Œì´ë¸”.</p>
            <label>ì„¸ì…˜ í† í° (X-Session-Token)</label>
            <input id="area-token" type="text" placeholder="ë¡œê·¸ì¸ í›„ ë°œê¸‰ëœ sessionToken" />
            <button onclick="doGetWithToken('/api/auth/area-codes', 'area-token', 'area-result')">ì¡°íšŒ</button>
            <div id="area-result" class="result"></div>
        </div>

        <!-- ì§€ì—­ë²ˆí˜¸ ëª©ë¡ -->
        <div class="card">
            <h2><span class="badge" style="background:#6D4C41">GET</span> /api/auth/phone-area-numbers</h2>
            <p class="desc">ì§€ì—­ë²ˆí˜¸(DDD) ì „ì²´ ëª©ë¡ ì¡°íšŒ. ê°€ì…ì‹ ì²­ ì‹œ ì§€ì—­ë²ˆí˜¸ ì„ íƒì— ì‚¬ìš©.<br><code>BA_Code</code> í…Œì´ë¸”ì—ì„œ <code>Gubun = 'DDD'</code> ì¡°ê±´ìœ¼ë¡œ ì¡°íšŒ.</p>
            <label>ì„¸ì…˜ í† í° (X-Session-Token)</label>
            <input id="ddd-token" type="text" placeholder="ë¡œê·¸ì¸ í›„ ë°œê¸‰ëœ sessionToken" />
            <button onclick="doGetWithToken('/api/auth/phone-area-numbers', 'ddd-token', 'ddd-result')">ì¡°íšŒ</button>
            <div id="ddd-result" class="result"></div>
        </div>

        <!-- ê±°ë˜ì²˜ ê²€ìƒ‰ -->
        <div class="card">
            <h2><span class="badge" style="background:#6D4C41">GET</span> /api/customers</h2>
            <p class="desc">í‚¤ì›Œë“œ(ì´ë¦„Â·ì£¼ì†ŒÂ·ì „í™”ë²ˆí˜¸)ë¡œ <b>ê±°ë˜ì²˜ ëª©ë¡ ê²€ìƒ‰</b>. ì„¸ì…˜ì˜ ì˜ì—…ì†ŒÂ·ì‚¬ì›Â·ê¶Œí•œ ì½”ë“œê°€ ìë™ ì ìš©ë¨.<br>ê±°ë˜ì²˜ ìœ í˜•(ì¤‘ëŸ‰/ì²´ì ê²€ì¹¨/ì²´ì ê³µê¸‰/ì „ì²´) í•„í„° ê°€ëŠ¥. <code>fn_CUST_FIND</code> í•¨ìˆ˜ ì‚¬ìš©.</p>
            <label>ì„¸ì…˜ í† í° (X-Session-Token)</label>
            <input id="cs-token" type="text" placeholder="ë¡œê·¸ì¸ í›„ ë°œê¸‰ëœ sessionToken" />
            <label>ê²€ìƒ‰ì–´ (keyword)</label>
            <input id="cs-keyword" type="text" placeholder="ì´ë¦„ / ì£¼ì†Œ / ì „í™”ë²ˆí˜¸" />
            <label>ê±°ë˜ì²˜ ìœ í˜• (type): A=ì „ì²´, 0=ì¤‘ëŸ‰, 1=ì²´ì ê²€ì¹¨, 2=ì²´ì ê³µê¸‰</label>
            <input id="cs-type" type="text" placeholder="A" value="A" />
            <label>ê±°ë˜ì²˜ ì½”ë“œ (ë‹¨ê±´ ì¡°íšŒ ì‹œ, ì„ íƒ)</label>
            <input id="cs-code" type="text" placeholder="000-01234" />
            <button onclick="doCustomerSearch()">ê²€ìƒ‰</button>
            <div id="cs-result" class="result"></div>
        </div>

        <!-- ê±°ë˜ì²˜ í’ˆëª© ì¡°íšŒ -->
        <div class="card">
            <h2><span class="badge" style="background:#6D4C41">GET</span> /api/customers/{code}/items</h2>
            <p class="desc">íŠ¹ì • ê±°ë˜ì²˜ì— ë“±ë¡ëœ <b>í’ˆëª© ëª©ë¡ê³¼ ë‹¨ê°€</b> ì¡°íšŒ. ì¬ê³ Â·ë¯¸ìˆ˜ê¸ˆ í¬í•¨.<br>ì„¸ì…˜ gasTypeì— ë”°ë¼ ìë™ ë¶„ê¸°: <b>HIGH</b> â†’ <code>fn_CUST_JP_Danga</code> / <b>LPG</b> â†’ <code>fn_CUST_JP_Danga_LPG</code></p>
            <label>ì„¸ì…˜ í† í° (X-Session-Token)</label>
            <input id="ci-token" type="text" placeholder="ë¡œê·¸ì¸ í›„ ë°œê¸‰ëœ sessionToken" />
            <label>ê±°ë˜ì²˜ ì½”ë“œ (customerCode)</label>
            <input id="ci-code" type="text" placeholder="000-01234" />
            <label>íŒë§¤ ìœ í˜• (saleType): 0=ê°€ìŠ¤(ê¸°ë³¸), 1=ìš©ê¸° â€” LPG ì „ìš©</label>
            <input id="ci-saleType" type="text" placeholder="0" value="0" />
            <label>í’ˆëª© ì½”ë“œ (itemCode, ë‹¨ê±´ ì¡°íšŒ ì‹œ ì„ íƒ)</label>
            <input id="ci-itemCode" type="text" placeholder="ì„ íƒì‚¬í•­" />
            <button onclick="doCustomerItems()">ì¡°íšŒ</button>
            <div id="ci-result" class="result"></div>
        </div>

        <!-- ê°€ì…ì‹ ì²­ -->
        <div class="card">
            <h2><span class="badge post">POST</span> /api/auth/register</h2>
            <p class="desc">ì‹ ê·œ ì§ì› ì•± <b>ê°€ì…ì‹ ì²­</b>. ë“±ë¡ í›„ ìƒíƒœëŠ” <code>N</code>(ëŒ€ê¸°). ê´€ë¦¬ìê°€ ìŠ¹ì¸(<code>Y</code>)í•´ì•¼ ë¡œê·¸ì¸ ê°€ëŠ¥.<br>ë™ì¼ UUID ì¤‘ë³µ ì‹ ì²­ ë¶ˆê°€.</p>

            <label>ê¸°ê¸° UUID</label>
            <input id="reg-uuid" type="text" placeholder="DEVICE-UUID-12345" />

            <label>ì´ë¦„ (employeeName) â€” ìµœëŒ€ 10ì</label>
            <input id="reg-name" type="text" placeholder="í™ê¸¸ë™" maxlength="10" />

            <label>ì•„ì´ë”” (userId) â€” ìµœëŒ€ 15ì</label>
            <input id="reg-userId" type="text" placeholder="user01" maxlength="15" />

            <label>ë¹„ë°€ë²ˆí˜¸ (password) â€” ìµœëŒ€ 15ì</label>
            <input id="reg-password" type="password" placeholder="pass1234" maxlength="15" />

            <label>ì‚¬ì—…ì†Œ ì½”ë“œ (areaCode) â€” ìµœëŒ€ 2ì (ì˜ˆ: 01, 02)</label>
            <input id="reg-areaCode" type="text" placeholder="01" maxlength="2" />

            <label>ì‚¬ì—…ì†Œëª… (areaName) â€” ìµœëŒ€ 30ì</label>
            <input id="reg-areaName" type="text" placeholder="ì„œìš¸ì‚¬ì—…ì†Œ" maxlength="30" />

            <button onclick="doRegister()">ê°€ì…ì‹ ì²­</button>
            <div id="reg-result" class="result"></div>
        </div>

    </div>

    <script>
        const BASE = '';

        function showResult(elId, data, ok) {
            const el = document.getElementById(elId);
            el.style.display = 'block';
            el.className = 'result ' + (ok ? 'success' : 'error');
            el.textContent = JSON.stringify(data, null, 2);
        }

        async function doGetWithToken(path, tokenInputId, elId) {
            const token = document.getElementById(tokenInputId).value;
            try {
                const res = await fetch(BASE + path, {
                    headers: { 'X-Session-Token': token }
                });
                const data = await res.json();
                showResult(elId, data, res.ok);
            } catch (e) {
                showResult(elId, { error: e.message }, false);
            }
        }

        async function doCustomerItems() {
            const token    = document.getElementById('ci-token').value;
            const code     = document.getElementById('ci-code').value;
            const saleType = document.getElementById('ci-saleType').value || '0';
            const itemCode = document.getElementById('ci-itemCode').value;
            const params   = new URLSearchParams({ saleType, itemCode });
            try {
                const res  = await fetch(`${BASE}/api/customers/${encodeURIComponent(code)}/items?${params}`, {
                    headers: { 'X-Session-Token': token }
                });
                const data = await res.json();
                showResult('ci-result', data, res.ok);
            } catch (e) {
                showResult('ci-result', { error: e.message }, false);
            }
        }

        async function doCustomerSearch() {
            const token    = document.getElementById('cs-token').value;
            const keyword  = document.getElementById('cs-keyword').value;
            const type     = document.getElementById('cs-type').value || 'A';
            const code     = document.getElementById('cs-code').value;
            const params   = new URLSearchParams({ keyword, type, customerCode: code });
            try {
                const res  = await fetch(BASE + '/api/customers?' + params, {
                    headers: { 'X-Session-Token': token }
                });
                const data = await res.json();
                showResult('cs-result', data, res.ok);
            } catch (e) {
                showResult('cs-result', { error: e.message }, false);
            }
        }

        async function doLogin() {
            const body = {
                userId:   document.getElementById('login-userId').value,
                password: document.getElementById('login-password').value,
            };
            const uuid = document.getElementById('login-uuid').value;
            if (uuid) body.uuid = uuid;

            try {
                const res = await fetch(BASE + '/api/auth/login', {
                    method: 'POST',
                    headers: { 'Content-Type': 'application/json' },
                    body: JSON.stringify(body)
                });
                const data = await res.json();
                showResult('login-result', data, data.success);
            } catch (e) {
                showResult('login-result', { error: e.message }, false);
            }
        }

        async function doRegister() {
            const body = {
                uuid:         document.getElementById('reg-uuid').value,
                employeeName: document.getElementById('reg-name').value,
                userId:       document.getElementById('reg-userId').value,
                password:     document.getElementById('reg-password').value,
                areaCode:     document.getElementById('reg-areaCode').value,
                areaName:     document.getElementById('reg-areaName').value,
            };

            try {
                const res = await fetch(BASE + '/api/auth/register', {
                    method: 'POST',
                    headers: { 'Content-Type': 'application/json' },
                    body: JSON.stringify(body)
                });
                const data = await res.json();
                showResult('reg-result', data, data.success);
            } catch (e) {
                showResult('reg-result', { error: e.message }, false);
            }
        }
    </script>
</body>
</html>
